<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Set | OpenQuizlet</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Navigation -->
    <nav>
        <div class="nav-content">
            <a href="index.html" class="nav-brand">OpenQuizlet</a>
            <div class="nav-links">
                <button onclick="switchMode('study')" class="active-mode" id="nav-study">Flashcards</button>
                <button onclick="switchMode('quiz')" id="nav-quiz">Test</button>
            </div>
        </div>
    </nav>

    <div class="container">
        
        <!-- MODE 1: FLASHCARDS -->
        <div id="study-mode" class="mode-section">
            <div class="scene">
                <div class="card" id="flashcard">
                    <div class="card-face card-front">
                        <p id="term-text">Loading...</p>
                    </div>
                    <div class="card-face card-back">
                        <p id="def-text">...</p>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="control-btn" id="prev-btn" title="Previous">←</button>
                <span id="counter" style="font-weight: 700; color: var(--text-secondary); min-width: 60px; text-align: center;">1 / --</span>
                <button class="control-btn" id="next-btn" title="Next">→</button>
            </div>
            
            <button class="action-btn" id="shuffle-btn" style="background-color: white; color: var(--text-primary); border: 2px solid var(--border-color); margin-top: 10px;">
                Shuffle Deck
            </button>
        </div>

        <!-- MODE 2: QUIZ SETUP -->
        <div id="quiz-setup" class="mode-section hidden">
            <div class="setup-panel">
                <h2 style="margin-top: 0; font-size: 1.8rem; color: var(--text-primary);">Configure Test</h2>
                <form id="quiz-options">
                    
                    <div class="setting-item">
                        <label>Question Count</label>
                        <input type="number" id="q-count" class="setting-input" min="1" value="5">
                        <small id="max-q-note" style="color: var(--text-secondary); display: block; margin-top: 5px;">(Max: 0)</small>
                    </div>

                    <div class="setting-item">
                        <label>Answer With</label>
                        <select id="answer-with" class="setting-select">
                            <option value="def">Definitions (Match Term)</option>
                            <option value="term">Terms (Match Definition)</option>
                            <option value="mixed">Mixed</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <label>Question Types</label>
                        <div class="checkbox-grid">
                            <label class="checkbox-label"><input type="checkbox" value="multiple" checked> Multiple Choice</label>
                            <label class="checkbox-label"><input type="checkbox" value="tf" checked> True/False</label>
                            <label class="checkbox-label"><input type="checkbox" value="writing" checked> Written</label>
                        </div>
                    </div>

                    <button type="button" class="action-btn" onclick="startQuiz()">Start Test</button>
                </form>
            </div>
        </div>

        <!-- MODE 3: ACTIVE QUIZ -->
        <div id="quiz-active" class="mode-section hidden">
            <div class="progress-container">
                <div class="progress-fill" id="quiz-progress-bar"></div>
            </div>

            <div class="quiz-header">
                <span id="quiz-progress-text">Question 1 of 10</span>
                <span id="quiz-score">Score: 0</span>
            </div>
            
            <div id="question-container">
                <!-- Questions injected here by JS -->
            </div>
            
            <div id="feedback" class="hidden"></div>
            
            <div style="margin-top: 2rem; text-align: right;">
                <button id="next-question-btn" class="action-btn hidden" style="width: auto;">Next Question →</button>
            </div>
        </div>

        <!-- MODE 4: RESULTS -->
        <div id="quiz-results" class="mode-section hidden">
            <div class="results-card">
                <h2 style="margin-top: 0; margin-bottom: 2rem;">Test Complete</h2>
                
                <div class="score-circle">
                    <div class="score-number" id="final-score">80%</div>
                    <div class="score-label">Correct</div>
                </div>

                <p id="final-text" style="color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 2rem;">Great job!</p>
                
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="switchMode('quiz')" class="action-btn" style="background-color: white; color: var(--text-primary); border: 2px solid var(--border-color);">Adjust Settings</button>
                    <button onclick="startQuiz()" class="action-btn">Retake Test</button>
                </div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
